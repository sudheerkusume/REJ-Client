(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,644638,e=>{e.v({className:"Poppins_cbaab3ae-module__t9k7iq__className"})},95321,e=>{"use strict";let t,s,a;var n=e.i(843476),r=e.i(271645),i=e.i(528248),l=e.i(839387),o=e.i(854056);let c=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),d=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))});var u=e.i(860463),m=e.i(468001);function p(){let{rootContext:e,setRootContext:t}=(0,r.useContext)(i.default),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(e.toast.dismiss)return s.current=setTimeout(()=>{t(e=>({...e,toast:{show:!1,dismiss:!1,type:"none",message:""}}))},4e3),()=>{clearTimeout(s.current)}},[e.toast.dismiss,t]),e.toast.show?(0,n.jsx)("div",{className:"fixed top-[6rem] w-full left-1/2 transform -translate-x-1/2 poPoppins-events-none py-10 z-50",children:(0,n.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,n.jsx)(o.Transition,{show:e.toast.show,as:r.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"poPoppins-events-auto p-3 w-full max-w-md overflow-hidden rounded-lg bg-white shadow-md ring-1 ring-black ring-opacity-5",children:(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(()=>{let t=e.toast.type,s={width:28,height:28};switch(t){case"success":return(0,n.jsx)(c,{...s,className:"text-green-400","aria-hidden":"true"});case"error":return(0,n.jsx)(d,{...s,className:"text-red-400","aria-hidden":"true"});case"warning":return(0,n.jsx)(d,{...s,className:"text-yellow-400","aria-hidden":"true"});case"info":return(0,n.jsx)(u.InformationCircleIcon,{...s,className:"text-blue-500","aria-hidden":"true"});default:return null}})()}),(0,n.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,n.jsx)("p",{className:"text-lg font-medium text-gray-900",children:e.toast.title}),(0,n.jsx)("p",{className:"mt-1 text-base text-gray-500",children:e.toast.message})]}),(0,n.jsx)("div",{className:"ml-4 flex flex-shrink-0",children:(0,n.jsxs)("button",{type:"button",className:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2",onClick:()=>{t(e=>({...e,toast:{show:!1,dismiss:!1,type:"none",message:""}}))},children:[(0,n.jsx)("span",{className:"sr-only",children:"Close"}),(0,n.jsx)(m.XMarkIcon,{width:25,height:25,"aria-hidden":"true"})]})})]})})})})})}):null}var h=e.i(618566),f=e.i(644638);let x={className:f.default.className,style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"}};null!=f.default.variable&&(x.variable=f.default.variable);var g=e.i(657688),b=e.i(522016),v=e.i(511152);let y=()=>{let e=(0,h.useRouter)();return(0,n.jsxs)("div",{className:"text-white py-12 px-6 w-full z-50",style:{backgroundColor:"#1c4676"},children:[(0,n.jsxs)("div",{className:"w-full sm:w-[85%] mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 z-50",children:[(0,n.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,n.jsx)(g.default,{src:"/logo.webp",alt:"logo",width:300,height:100,priority:!0}),(0,n.jsx)("div",{className:"my-5",children:(0,n.jsx)("p",{className:"text-md font-light",children:"Welcome to Real Estate Jobs, Inc - India's first and only dedicated job portal exclusively designed for the real estate industry. Whether you are a job seeker looking to build a career in real estate or an employer searching for top talent, we are here to connect you with the right opportunities and resources."})})]}),(0,n.jsxs)("div",{className:"col-span-1",children:[(0,n.jsx)("h4",{className:"text-lg sm:text-xl font-bold mb-4",children:"Quick Links"}),(0,n.jsxs)("ul",{className:"space-y-2 text-md font-light w-full sm:w-20",children:[(0,n.jsx)("li",{children:(0,n.jsx)(b.default,{href:"/",className:"hover:text-amber-400 transition-colors duration-300 hover:font-bold",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b.default,{href:"/jobs",className:"hover:text-amber-400 transition-colors duration-300 hover:font-bold",children:"Job Listings"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b.default,{href:"/companies",className:"hover:text-amber-400 transition-colors duration-300 hover:font-bold",children:"Companies"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b.default,{href:"/about",className:"hover:text-amber-400 transition-colors duration-300 hover:font-bold",children:"About Us"})}),(0,n.jsx)("li",{children:(0,n.jsx)(b.default,{href:"/login",className:"hover:text-amber-400 transition-colors duration-300 hover:font-bold",children:"Login"})})]})]}),(0,n.jsxs)("div",{className:"col-span-1",children:[(0,n.jsx)("h4",{className:"text-lg sm:text-xl font-bold mb-4",children:"Jobs by Category"}),(0,n.jsx)("ul",{className:"space-y-2 text-md font-light w-full sm:w-40",children:["Channel Partners","HR & Operations","Real Estate Sales","Tele Caller","Digital Marketing","Web Development","CRM Executive","Accounts & Auditing","Legal","Architects"].map(t=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>{let s;return s=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),void e.push(`/jobs?category=${s}`)},className:"text-md font-light p-0 border-none bg-transparent text-left w-full hover:text-orange-400 transition-colors duration-300",children:t})},t))})]}),(0,n.jsxs)("div",{className:"col-span-1 mb-4",children:[(0,n.jsx)("h4",{className:"text-lg sm:text-xl font-bold mb-4",children:"Contact Us"}),(0,n.jsx)("address",{className:"not-italic text-md font-light space-y-2",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Corporate Office:"}),(0,n.jsx)("br",{}),"2nd Floor, YS RAO Towers, Madhapur Rd, Sri Rama Colony, Jubilee Hills, Hyderabad, Telangana 500033"]})})]})]}),(0,n.jsxs)("div",{className:"p-5 my-8 w-full sm:w-[85%] mx-auto rounded-lg text-center text-md font-light flex flex-col md:flex-row justify-between items-center",style:{backgroundColor:"rgba(99, 99, 144, 0.5)"},children:[(0,n.jsx)("p",{className:"mb-4 md:mb-0",children:"Â© 2025 Real Estate Jobs. All rights reserved."}),(0,n.jsxs)("div",{className:"flex space-x-4 cursor-poPoppins",children:[(0,n.jsx)(v.FaFacebook,{className:"hover:text-amber-400 transition-colors duration-300"}),(0,n.jsx)(v.FaTwitter,{className:"hover:text-amber-400 transition-colors duration-300"}),(0,n.jsx)(v.FaInstagram,{className:"hover:text-amber-400 transition-colors duration-300"}),(0,n.jsx)(v.FaLinkedin,{className:"hover:text-amber-400 transition-colors duration-300"})]})]})]})},j=({isMobileOpen:e,toggleSidebar:t,userRole:s,authenticated:a})=>{let r=(0,h.usePathname)(),i=(0,h.useRouter)();if(!a)return null;let l=[{icon:(0,n.jsx)(v.FaThLarge,{}),label:"Dashboard",link:"/dashboard",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaSuitcase,{}),label:"Jobs",link:"/applications",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaUsers,{}),label:"Candidates",link:"/candidates",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaTasks,{}),label:"Tasks",link:"/tasks",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaCalendarAlt,{}),label:"Calendar",link:"/calendar",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaChartBar,{}),label:"Analytics",link:"/analytics",roles:["superadmin","company","recruiter"]},{icon:(0,n.jsx)(v.FaCog,{}),label:"Settings",link:"/settings",roles:["superadmin","company","recruiter","applicant"]},{icon:(0,n.jsx)(v.FaPlus,{}),label:"Projects",link:"/projects",roles:["superadmin","company"]},{icon:(0,n.jsx)(v.FaUserPlus,{}),label:"Recruiters",link:"/recruiters",roles:["superadmin","company"]}].filter(e=>e.roles.includes(s||""));return 0===l.length?null:(0,n.jsx)("div",{className:`fixed sm:sticky top-16 left-0 z-30 w-36 bg-white shadow-md transition-transform duration-300 ease-in-out
      ${e?"translate-x-0":"-translate-x-full"} sm:translate-x-0`,style:{height:"calc(100vh - 4rem)"},children:(0,n.jsx)("div",{className:"p-4 space-y-4 overflow-y-auto h-full",children:l.map((e,s)=>{var a;let l=!!(a=e.link)&&("/candidates"===a?r.startsWith("/candidates")||r.startsWith("/profile"):"/projects"===a?r.startsWith("/projects"):"/recruiters"===a?r.startsWith("/recruiters"):r===a||r.startsWith(`${a}/`));return(0,n.jsxs)("div",{onClick:()=>{e.link&&(i.push(e.link),t(!1))},className:`flex items-center gap-3 px-2 py-1 rounded-md cursor-poPoppins transition-colors duration-200 ${l?"text-black bg-indigo-200 font-bold":"text-black hover:text-black hover:font-medium"}`,children:[e.icon,(0,n.jsx)("span",{className:"text-sm",children:e.label})]},s)})})})},w=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))});var N=e.i(349967),I=e.i(844735);let k=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))});var C=e.i(429427),S=e.i(371330),E=e.i(174080),M=e.i(394487),P=e.i(746725),R=e.i(992704),F=e.i(914189),T=e.i(488374),A=e.i(684653),O=e.i(835696),D=e.i(877891),L=e.i(952744),$=e.i(605083),_=e.i(157138),W=e.i(144279),B=e.i(101852),U=e.i(255743),K=e.i(294316),H=e.i(249578),z=e.i(571616),J=e.i(83733),Q=e.i(402155),Z=e.i(919751),G=e.i(233137),V=e.i(341650),q=e.i(140407),X=e.i(65659),Y=e.i(544508),ee=e.i(813581),et=e.i(652265),es=e.i(397701),ea=e.i(700020),en=e.i(35889),er=e.i(998348),ei=e.i(722678),el=e.i(635307),eo=e.i(825720),ec=e.i(667310),ed=Object.defineProperty,eu=(e,t,s)=>{let a;return(a="symbol"!=typeof t?t+"":t)in e?ed(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,s},em=((t=em||{})[t.Open=0]="Open",t[t.Closed=1]="Closed",t),ep=((s=ep||{})[s.PoPoppins=0]="PoPoppins",s[s.Other=1]="Other",s),eh=((a=eh||{})[a.OpenMenu=0]="OpenMenu",a[a.CloseMenu=1]="CloseMenu",a[a.GoToItem=2]="GoToItem",a[a.Search=3]="Search",a[a.ClearSearch=4]="ClearSearch",a[a.RegisterItems=5]="RegisterItems",a[a.UnregisterItems=6]="UnregisterItems",a[a.SetButtonElement=7]="SetButtonElement",a[a.SetItemsElement=8]="SetItemsElement",a[a.SortItems=9]="SortItems",a[a.MarkButtonAsMoved=10]="MarkButtonAsMoved",a);function ef(e,t=e=>e){let s=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,a=(0,et.sortByDomNode)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),n=s?a.indexOf(s):null;return -1===n&&(n=null),{items:a,activeItemIndex:n}}let ex={1(e){if(1===e.menuState)return e;let t=e.buttonElement?ec.ElementPositionState.Tracked((0,ec.computeVisualPosition)(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:X.Focus.Nothing},menuState:1,buttonPositionState:t}},0:(e,t)=>0===e.menuState?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:ec.ElementPositionState.Idle},2:(e,t)=>{var s,a,n,r,i;if(1===e.menuState)return e;let l={...e,searchQuery:"",activationTrigger:null!=(s=t.trigger)?s:1,__demoMode:!1};if(t.focus===X.Focus.Nothing)return{...l,activeItemIndex:null};if(t.focus===X.Focus.Specific)return{...l,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(t.focus===X.Focus.Previous){let s=e.activeItemIndex;if(null!==s){let r=e.items[s].dataRef.current.domRef,i=(0,X.calculateActiveIndex)(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(a=r.current)?void 0:a.previousElementSibling)===t.current||(null==(n=t.current)?void 0:n.previousElementSibling)===null)return{...l,activeItemIndex:i}}}}else if(t.focus===X.Focus.Next){let s=e.activeItemIndex;if(null!==s){let a=e.items[s].dataRef.current.domRef,n=(0,X.calculateActiveIndex)(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==n){let t=e.items[n].dataRef.current.domRef;if((null==(r=a.current)?void 0:r.nextElementSibling)===t.current||(null==(i=t.current)?void 0:i.nextElementSibling)===null)return{...l,activeItemIndex:n}}}}let o=ef(e),c=(0,X.calculateActiveIndex)(t,{resolveItems:()=>o.items,resolveActiveIndex:()=>o.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...l,...o,activeItemIndex:c}},3:(e,t)=>{let s=+(""===e.searchQuery),a=e.searchQuery+t.value.toLowerCase(),n=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+s).concat(e.items.slice(0,e.activeItemIndex+s)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(a))&&!e.dataRef.current.disabled}),r=n?e.items.indexOf(n):-1;return -1===r||r===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:r,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let s=e.items.concat(t.items.map(e=>e)),a=e.activeItemIndex;return e.pendingFocus.focus!==X.Focus.Nothing&&(a=(0,X.calculateActiveIndex)(e.pendingFocus,{resolveItems:()=>s,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),{...e,items:s,activeItemIndex:a,pendingFocus:{focus:X.Focus.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let s=e.items,a=[],n=new Set(t.items);for(let[e,t]of s.entries())if(n.has(t.id)&&(a.push(e),n.delete(t.id),0===n.size))break;if(a.length>0)for(let e of(s=s.slice(),a.reverse()))s.splice(e,1);return{...e,items:s,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...ef(e),pendingShouldSort:!1}:e,10:e=>"Tracked"!==e.buttonPositionState.kind?e:{...e,buttonPositionState:ec.ElementPositionState.Moved}};class eg extends eo.Machine{constructor(e){super(e),eu(this,"actions",{registerItem:(0,eo.batch)(()=>{let e=[],t=new Set;return[(s,a)=>{t.has(a)||(t.add(a),e.push({id:s,dataRef:a}))},()=>(t.clear(),this.send({type:5,items:e.splice(0)}))]}),unregisterItem:(0,eo.batch)(()=>{let e=[];return[t=>e.push(t),()=>this.send({type:6,items:e.splice(0)})]})}),eu(this,"selectors",{activeDescendantId(e){var t;let s=e.activeItemIndex,a=e.items;return null===s||null==(t=a[s])?void 0:t.id},isActive(e,t){var s;let a=e.activeItemIndex,n=e.items;return null!==a&&(null==(s=n[a])?void 0:s.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.menuState&&0!==e.activationTrigger&&this.isActive(e,t)},didButtonMove:e=>"Moved"===e.buttonPositionState.kind}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=V.stackMachines.get(null);this.disposables.add(t.on(V.ActionTypes.Push,s=>{t.selectors.isTop(s,e)||0!==this.state.menuState||this.send({type:1})})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}this.disposables.group(e=>{this.on(1,t=>{t.buttonElement&&(e.dispose(),e.add((0,ec.detectMovement)(t.buttonElement,t.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:t=!1}){return new eg({id:e,__demoMode:t,menuState:+!t,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:X.Focus.Nothing},buttonPositionState:ec.ElementPositionState.Idle})}reduce(e,t){return(0,es.match)(t.type,ex,e,t)}}var eb=e.i(526599);let ev=(0,r.createContext)(null);function ey(e){let t=(0,r.useContext)(ev);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ej),t}return t}function ej({id:e,__demoMode:t=!1}){let s=(0,r.useMemo)(()=>eg.new({id:e,__demoMode:t}),[]);return(0,eb.useOnUnmount)(()=>s.dispose()),s}let ew=r.Fragment,eN=ea.RenderFeatures.RenderStrategy|ea.RenderFeatures.Static,eI=r.Fragment,ek=Object.assign((0,ea.forwardRefWithAs)(function(e,t){let s=(0,r.useId)(),{__demoMode:a=!1,...n}=e,i=ej({id:s,__demoMode:a}),[l,o,c]=(0,q.useSlice)(i,e=>[e.menuState,e.itemsElement,e.buttonElement]),d=(0,K.useSyncRefs)(t),u=V.stackMachines.get(null),m=(0,q.useSlice)(u,(0,r.useCallback)(e=>u.selectors.isTop(e,s),[u,s]));(0,L.useOutsideClick)(m,[c,o],(e,t)=>{var s;i.send({type:eh.CloseMenu}),(0,et.isFocusableElement)(t,et.FocusableMode.Loose)||(e.preventDefault(),null==(s=i.state.buttonElement)||s.focus())});let p=(0,F.useEvent)(()=>{i.send({type:eh.CloseMenu})}),h=(0,U.useSlot)({open:l===em.Open,close:p}),f=(0,ea.useRender)();return r.default.createElement(Z.FloatingProvider,null,r.default.createElement(ev.Provider,{value:i},r.default.createElement(G.OpenClosedProvider,{value:(0,es.match)(l,{[em.Open]:G.State.Open,[em.Closed]:G.State.Closed})},f({ourProps:{ref:d},theirProps:n,slot:h,defaultTag:ew,name:"Menu"}))))}),{Button:(0,ea.forwardRefWithAs)(function(e,t){let s=ey("Menu.Button"),a=(0,r.useId)(),{id:n=`headlessui-menu-button-${a}`,disabled:i=!1,autoFocus:l=!1,...o}=e,c=(0,r.useRef)(null),d=(0,Z.useFloatingReferenceProps)(),u=(0,K.useSyncRefs)(t,c,(0,Z.useFloatingReference)(),(0,F.useEvent)(e=>s.send({type:eh.SetButtonElement,element:e}))),m=(0,F.useEvent)(e=>{switch(e.key){case er.Keys.Space:case er.Keys.Enter:case er.Keys.ArrowDown:e.preventDefault(),e.stopPropagation(),s.send({type:eh.OpenMenu,focus:{focus:X.Focus.First}});break;case er.Keys.ArrowUp:e.preventDefault(),e.stopPropagation(),s.send({type:eh.OpenMenu,focus:{focus:X.Focus.Last}})}}),p=(0,F.useEvent)(e=>{e.key===er.Keys.Space&&e.preventDefault()}),[h,f,x]=(0,q.useSlice)(s,e=>[e.menuState,e.buttonElement,e.itemsElement]),g=h===em.Open;(0,_.useQuickRelease)(g,{trigger:f,action:(0,r.useCallback)(e=>{if(null!=f&&f.contains(e.target))return _.Action.Ignore;let t=e.target.closest('[role="menuitem"]:not([data-disabled])');return ee.isHTMLElement(t)?_.Action.Select(t):null!=x&&x.contains(e.target)?_.Action.Ignore:_.Action.Close},[f,x]),close:(0,r.useCallback)(()=>s.send({type:eh.CloseMenu}),[]),select:(0,r.useCallback)(e=>e.click(),[])});let b=(0,T.useHandleToggle)(e=>{var t;i||(h===em.Open?((0,E.flushSync)(()=>s.send({type:eh.CloseMenu})),null==(t=c.current)||t.focus({preventScroll:!0})):(e.preventDefault(),s.send({type:eh.OpenMenu,focus:{focus:X.Focus.Nothing},trigger:ep.PoPoppins})))}),{isFocusVisible:v,focusProps:y}=(0,C.useFocusRing)({autoFocus:l}),{isHovered:j,hoverProps:w}=(0,S.useHover)({isDisabled:i}),{pressed:N,pressProps:I}=(0,M.useActivePress)({disabled:i}),k=(0,U.useSlot)({open:h===em.Open,active:N||h===em.Open,disabled:i,hover:j,focus:v,autofocus:l}),P=(0,ea.mergeProps)(d(),{ref:u,id:n,type:(0,W.useResolveButtonType)(e,c.current),"aria-haspopup":"menu","aria-controls":null==x?void 0:x.id,"aria-expanded":h===em.Open,disabled:i||void 0,autoFocus:l,onKeyDown:m,onKeyUp:p},b,y,w,I);return(0,ea.useRender)()({ourProps:P,theirProps:o,slot:k,defaultTag:"button",name:"Menu.Button"})}),Items:(0,ea.forwardRefWithAs)(function(e,t){let s=(0,r.useId)(),{id:a=`headlessui-menu-items-${s}`,anchor:n,portal:i=!1,modal:l=!0,transition:o=!1,...c}=e,d=(0,Z.useResolvedAnchor)(n),u=ey("Menu.Items"),[m,p]=(0,Z.useFloatingPanel)(d),h=(0,Z.useFloatingPanelProps)(),[f,x]=(0,r.useState)(null),g=(0,K.useSyncRefs)(t,d?m:null,(0,F.useEvent)(e=>u.send({type:eh.SetItemsElement,element:e})),x),[b,v]=(0,q.useSlice)(u,e=>[e.menuState,e.buttonElement]),y=(0,$.useOwnerDocument)(v),j=(0,$.useOwnerDocument)(f);d&&(i=!0);let w=(0,G.useOpenClosed)(),[N,I]=(0,J.useTransition)(o,f,null!==w?(w&G.State.Open)===G.State.Open:b===em.Open);(0,D.useOnDisappear)(N,v,()=>{u.send({type:eh.CloseMenu})});let k=(0,q.useSlice)(u,e=>e.__demoMode),C=!k&&l&&b===em.Open;(0,B.useScrollLock)(C,j);let S=!k&&l&&b===em.Open;(0,A.useInertOthers)(S,{allowed:(0,r.useCallback)(()=>[v,f],[v,f])});let M=!(0,q.useSlice)(u,u.selectors.didButtonMove)&&N;(0,r.useEffect)(()=>{f&&b===em.Open&&((0,Q.isActiveElement)(f)||f.focus({preventScroll:!0}))},[b,f]),function(e,{container:t,accept:s,walk:a}){let n=(0,r.useRef)(s),i=(0,r.useRef)(a);(0,r.useEffect)(()=>{n.current=s,i.current=a},[s,a]),(0,O.useIsoMorphicEffect)(()=>{if(!t||!e)return;let s=(0,Q.getOwnerDocument)(t);if(!s)return;let a=n.current,r=i.current,l=Object.assign(e=>a(e),{acceptNode:a}),o=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,l,!1);for(;o.nextNode();)r(o.currentNode)},[t,e,n,i])}(b===em.Open,{container:f,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let T=(0,P.useDisposables)(),L=(0,F.useEvent)(e=>{var t,s,a;switch(T.dispose(),e.key){case er.Keys.Space:if(""!==u.state.searchQuery)return e.preventDefault(),e.stopPropagation(),u.send({type:eh.Search,value:e.key});case er.Keys.Enter:if(e.preventDefault(),e.stopPropagation(),null!==u.state.activeItemIndex){let{dataRef:e}=u.state.items[u.state.activeItemIndex];null==(s=null==(t=e.current)?void 0:t.domRef.current)||s.click()}u.send({type:eh.CloseMenu}),(0,et.restoreFocusIfNecessary)(u.state.buttonElement);break;case er.Keys.ArrowDown:return e.preventDefault(),e.stopPropagation(),u.send({type:eh.GoToItem,focus:X.Focus.Next});case er.Keys.ArrowUp:return e.preventDefault(),e.stopPropagation(),u.send({type:eh.GoToItem,focus:X.Focus.Previous});case er.Keys.Home:case er.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),u.send({type:eh.GoToItem,focus:X.Focus.First});case er.Keys.End:case er.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),u.send({type:eh.GoToItem,focus:X.Focus.Last});case er.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,E.flushSync)(()=>u.send({type:eh.CloseMenu})),null==(a=u.state.buttonElement)||a.focus({preventScroll:!0});break;case er.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,E.flushSync)(()=>u.send({type:eh.CloseMenu})),(0,et.focusFrom)(u.state.buttonElement,e.shiftKey?et.Focus.Previous:et.Focus.Next);break;default:1===e.key.length&&(u.send({type:eh.Search,value:e.key}),T.setTimeout(()=>u.send({type:eh.ClearSearch}),350))}}),_=(0,F.useEvent)(e=>{e.key===er.Keys.Space&&e.preventDefault()}),W=(0,U.useSlot)({open:b===em.Open}),H=(0,ea.mergeProps)(d?h():{},{"aria-activedescendant":(0,q.useSlice)(u,u.selectors.activeDescendantId),"aria-labelledby":(0,q.useSlice)(u,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),id:a,onKeyDown:L,onKeyUp:_,role:"menu",tabIndex:b===em.Open?0:void 0,ref:g,style:{...c.style,...p,"--button-width":(0,R.useElementSize)(N,v,!0).width},...(0,J.transitionDataAttributes)(I)}),z=(0,ea.useRender)();return r.default.createElement(el.Portal,{enabled:!!i&&(e.static||N),ownerDocument:y},z({ourProps:H,theirProps:c,slot:W,defaultTag:"div",features:eN,visible:M,name:"Menu.Items"}))}),Item:(0,ea.forwardRefWithAs)(function(e,t){let s=(0,r.useId)(),{id:a=`headlessui-menu-item-${s}`,disabled:n=!1,...i}=e,l=ey("Menu.Item"),o=(0,q.useSlice)(l,e=>l.selectors.isActive(e,a)),c=(0,r.useRef)(null),d=(0,K.useSyncRefs)(t,c),u=(0,q.useSlice)(l,e=>l.selectors.shouldScrollIntoView(e,a));(0,O.useIsoMorphicEffect)(()=>{if(u)return(0,Y.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[u,c]);let m=(0,H.useTextValue)(c),p=(0,r.useRef)({disabled:n,domRef:c,get textValue(){return m()}});(0,O.useIsoMorphicEffect)(()=>{p.current.disabled=n},[p,n]),(0,O.useIsoMorphicEffect)(()=>(l.actions.registerItem(a,p),()=>l.actions.unregisterItem(a)),[p,a]);let h=(0,F.useEvent)(()=>{l.send({type:eh.CloseMenu})}),f=(0,F.useEvent)(e=>{if(n)return e.preventDefault();l.send({type:eh.CloseMenu}),(0,et.restoreFocusIfNecessary)(l.state.buttonElement)}),x=(0,F.useEvent)(()=>{if(n)return l.send({type:eh.GoToItem,focus:X.Focus.Nothing});l.send({type:eh.GoToItem,focus:X.Focus.Specific,id:a})}),g=(0,z.useTrackedPoPoppins)(),b=(0,F.useEvent)(e=>g.update(e)),v=(0,F.useEvent)(e=>{g.wasMoved(e)&&(n||o||l.send({type:eh.GoToItem,focus:X.Focus.Specific,id:a,trigger:ep.PoPoppins}))}),y=(0,F.useEvent)(e=>{g.wasMoved(e)&&(n||o&&l.state.activationTrigger===ep.PoPoppins&&l.send({type:eh.GoToItem,focus:X.Focus.Nothing}))}),[j,w]=(0,ei.useLabels)(),[N,I]=(0,en.useDescriptions)(),k=(0,U.useSlot)({active:o,focus:o,disabled:n,close:h}),C=(0,ea.useRender)();return r.default.createElement(w,null,r.default.createElement(I,null,C({ourProps:{id:a,ref:d,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-labelledby":j,"aria-describedby":N,disabled:void 0,onClick:f,onFocus:x,onPoPoppinsEnter:b,onMouseEnter:b,onPoPoppinsMove:v,onMouseMove:v,onPoPoppinsLeave:y,onMouseLeave:y},theirProps:i,slot:k,defaultTag:eI,name:"Menu.Item"})))}),Section:(0,ea.forwardRefWithAs)(function(e,t){let[s,a]=(0,ei.useLabels)(),n=(0,ea.useRender)();return r.default.createElement(a,null,n({ourProps:{ref:t,"aria-labelledby":s,role:"group"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Section"}))}),Heading:(0,ea.forwardRefWithAs)(function(e,t){let s=(0,r.useId)(),{id:a=`headlessui-menu-heading-${s}`,...n}=e,i=(0,ei.useLabelContext)();(0,O.useIsoMorphicEffect)(()=>i.register(a),[a,i.register]);let l={id:a,ref:t,role:"presentation",...i.props};return(0,ea.useRender)()({ourProps:l,theirProps:n,slot:{},defaultTag:"header",name:"Menu.Heading"})}),Separator:(0,ea.forwardRefWithAs)(function(e,t){return(0,ea.useRender)()({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Separator"})})}),eC=({title:e})=>(0,n.jsxs)("div",{className:`
        relative w-full max-w-[150px] h-10
        flex items-center px-3 sm:px-4 py-1.5 rounded text-sm text-gray-800 sm:text-base justify-center
        rounded-lg overflow-hidden
        bg-white
      `,children:[(0,n.jsx)("span",{className:"absolute top-0 left-0 h-0.5 w-0  bg-gradient-to-r from-orange-400 via-purple-500 to-pink-500 animate-drawLineTop"}),(0,n.jsx)("span",{className:"absolute top-0 right-0 w-0.5 h-0  bg-gradient-to-b from-orange-400 via-purple-500 to-pink-500 animate-drawLineRight"}),(0,n.jsx)("span",{className:"absolute bottom-0 right-0 h-0.5 w-0  bg-gradient-to-l from-orange-400 via-purple-500 to-pink-500 animate-drawLineBottom"}),(0,n.jsx)("span",{className:"absolute bottom-0 left-0 w-0.5 h-0  bg-gradient-to-t from-orange-400 via-purple-500 to-pink-500 animate-drawLineLeft"}),(0,n.jsx)("div",{className:"relative z-10 font-semibold text-gray-700 text-center px-3 sm:px-4 py-1.5 rounded text-sm sm:text-base whitespace-nowrap",children:e})]}),eS=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"}))});var eE=e.i(427217),eM=e.i(787906),eP=e.i(460759);let eR=({notifications:e,unreadCount:t,onCloseNotification:s,onMarkAsRead:a,onMarkAllAsRead:r,onClearAll:i,onCloseDropdown:l,onNotificationClick:o,isLoading:c=!1})=>{let d=(t,s)=>{if(t.id&&!e.some((e,a)=>e.id===t.id&&a!==s))return t.id;let a=t.chatId||"no-chat",n=t.timestamp||Date.now();return`notification-${a}-${n}-${s}`};return e.some((t,s)=>{let a=d(t,s);return e.findIndex((e,t)=>d(e,t)===a)!==s})&&console.warn("âš ï¸ Duplicate keys detected in notifications"),(0,n.jsx)("div",{className:"fixed inset-0 z-40",onClick:l,children:(0,n.jsxs)("div",{className:"absolute top-16 right-4 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-all duration-200 opacity-100 scale-100",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"}),t>0&&(0,n.jsxs)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[t," new"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t>0&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),console.log("âœ… Marking all as read"),r&&r()},className:"p-1 text-gray-500 hover:text-green-600 transition-colors",title:"Mark all as read",disabled:c,children:(0,n.jsx)(eM.CheckIcon,{className:"w-4 h-4"})}),e.length>0&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),console.log("ðŸ§¹ Clearing all notifications"),i&&i()},className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Clear all",disabled:c,children:(0,n.jsx)(eP.TrashIcon,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:l,className:"p-1 text-gray-500 hover:text-gray-700 transition-colors",disabled:c,children:(0,n.jsx)(eE.XMarkIcon,{className:"w-5 h-5"})})]})]}),(0,n.jsx)("div",{className:"max-h-96 overflow-y-auto",children:c?(0,n.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),(0,n.jsx)("p",{children:"Loading notifications..."})]}):0===e.length?(0,n.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,n.jsx)(eS,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,n.jsx)("p",{children:"No notifications"})]}):(0,n.jsx)("div",{className:"divide-y divide-gray-100",children:e.map((e,t)=>(0,n.jsxs)("div",{className:`p-4 hover:bg-gray-50 cursor-poPoppins transition-colors relative group ${!e.read?"bg-blue-50":""}`,onClick:()=>{console.log("ðŸ“± Notification clicked in dropdown:",e),o&&o(e),!e.read&&a&&a(e.id)},children:[(0,n.jsx)("button",{onClick:t=>{var a;return a=e.id,void(t.stopPropagation(),console.log("ðŸ—‘ï¸ Closing notification:",a),s&&s(a))},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",disabled:c,children:(0,n.jsx)(eE.XMarkIcon,{className:"w-4 h-4"})}),(0,n.jsxs)("div",{className:"flex items-start gap-3 pr-6",children:[(0,n.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${"chat"===e.type?"bg-blue-100":"bg-green-100"}`,children:(0,n.jsx)(eS,{className:`w-5 h-5 ${"chat"===e.type?"text-blue-600":"text-green-600"}`})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-gray-800 truncate",children:e.title}),!e.read&&(0,n.jsx)("span",{className:"bg-blue-500 w-2 h-2 rounded-full flex-shrink-0 mt-1"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.message}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.meta&&(0,n.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.meta})]})]})]})]},d(e,t)))})}),e.length>0&&!c&&(0,n.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,n.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[e.length," notification",1!==e.length?"s":"",t>0&&` â€¢ ${t} unread`]})})]})})};var eF=e.i(558710);let eT=(0,r.memo)(({unreadCount:e,isLoading:t,error:s,onBellClick:a})=>(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{onClick:a,disabled:t,className:"relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",children:[(0,n.jsx)(k,{className:"w-6 h-6"}),e>0&&(0,n.jsx)("span",{className:"absolute -top-0 -right-1 bg-red-500 text-white text-[11px] rounded-full w-4 h-4 flex items-center justify-center",children:e>9?"9+":e}),t&&(0,n.jsx)("div",{className:"absolute -top-0 -right-1 w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),s&&(0,n.jsxs)("div",{className:"absolute top-full right-0 mt-1 bg-red-100 border border-red-300 rounded px-2 py-1 text-xs text-red-700 whitespace-nowrap",children:["Error: ",s]})]}));eT.displayName="NotificationBell";let eA=({rootContext:e,showLoader:t,logOut:s})=>{let{rootContext:a,toggleNotificationDropdown:l,markNotificationAsRead:c,markAllNotificationsAsRead:d,removeNotification:u,clearAllNotifications:m}=(0,r.useContext)(i.default),p=e||a,[f,x]=(0,r.useState)(!1),v=(0,h.usePathname)(),y=(0,h.useRouter)(),j=p?.user?.role,k=p?.authenticated||!1,{isLoading:C,error:S,refreshNotifications:E}=(()=>{let{rootContext:e,setRootContext:t}=(0,r.useContext)(i.default),s=(0,r.useCallback)(()=>{if(e?.user?.id)return e.user.id;{let e=localStorage.getItem("userData");if(e)try{return JSON.parse(e).id}catch(e){console.error("Error parsing user data from localStorage:",e)}}return null},[e])(),{data:a,error:n,isLoading:l}=(0,eF.useSWRFetch)(s?`/api/users?id=${s}`:null),o=(0,eF.Mutated)(s?`/api/users?id=${s}`:null);(0,r.useEffect)(()=>{if(!a||!e?.authenticated)return;let s=a.chats?.reduce((e,t)=>{let s=t.messages?.filter(e=>!1===e.read&&e.senderType!==a.role)||[];return s.length>0&&e.push({chatId:t.chatId?.$oid||t.chatId,jobId:t.jobId,jobTitle:t.jobTitle||"Unknown Job",applicantId:t.applicantId?.$oid||t.applicantId,companyId:t.companyId?.$oid||t.companyId,unreadCount:s.length,messages:s,lastMessage:t.lastMessage,lastUpdated:t.updatedAt?.$date||t.updatedAt}),e},[])||[],n=s.reduce((e,t)=>e+t.unreadCount,0);console.log("ðŸ“Š Unread messages summary:",{totalUnreadCount:n,chatCount:s.length});let r=s.map(e=>{let t,s,n;return{id:(t=e.chatId?.$oid||e.chatId,s=e.lastUpdated||new Date().toISOString(),n=Math.random().toString(36).substr(2,9),`chat-${t}-${s}-${n}`.replace(/[^a-zA-Z0-9-_]/g,"")),type:"chat",title:`New message from ${e.lastMessage?.senderName||"company"===a.role?"Applicant":"Company"}`,message:e.lastMessage?.content||`You have ${e.unreadCount} unread message${1!==e.unreadCount?"s":""}`,timestamp:e.lastUpdated||new Date().toISOString(),read:!1,meta:e.jobTitle,chatId:e.chatId,applicantId:e.applicantId,companyId:e.companyId,jobId:e.jobId,unreadCount:e.unreadCount,onClick:()=>{console.log("Notification clicked - Chat:",e)}}}),i=r.map(e=>e.id),l=new Set(i);i.length!==l.size?console.error("âŒ DUPLICATE IDs FOUND:",{total:i.length,unique:l.size,duplicates:i.filter((e,t)=>i.indexOf(e)!==t)}):console.log("âœ… All notification IDs are unique"),t(e=>({...e,notifications:{...e.notifications,items:r,unreadCount:n,lastChecked:new Date().toISOString(),isLoading:!1}})),console.log("âœ… Notifications updated in context")},[a,e?.authenticated,t]),(0,r.useEffect)(()=>{t(t=>({...t,notifications:{...t.notifications,isLoading:l&&e?.authenticated}}))},[l,e?.authenticated,t]),(0,r.useEffect)(()=>{n&&t(e=>({...e,notifications:{...e.notifications,error:n.message,isLoading:!1}}))},[n,t]);let c=(0,r.useCallback)(()=>{console.log("ðŸ”„ Manual refresh triggered"),s&&o()},[o,s]);return{isLoading:l&&e?.authenticated,error:n,refreshNotifications:c,mutated:o}})(),M=p?.notifications||{items:[],unreadCount:0},P=M.isDropdownOpen||!1,R=(0,r.useRef)(!1);(0,r.useEffect)(()=>{R.current||(console.log("ðŸ”” Navbar Mounted - Notification State:",{authenticated:k,userId:p?.user?.id,unreadCount:M.unreadCount,notificationItems:M.items?.length||0,isLoading:C,error:S}),R.current=!0)},[M,k,p?.user?.id,C,S]);let F=(0,r.useCallback)(()=>{E(),l(!P)},[E,l,P]),T=(0,r.useCallback)(e=>{c(e.id),"company"===j||"recruiter"===j||"superadmin"===j?y.push("/applications"):"applicant"===j&&y.push("/jobs"),l(!1)},[c,j,y,l]),A=(0,r.useCallback)(()=>[{label:"Dashboard",link:"/dashboard",roles:["superadmin","company","recruiter"]},{label:"Applications",link:"/applications",roles:["superadmin","company","recruiter"]},{label:"Candidates",link:"/candidates",roles:["superadmin","company","recruiter"]},{label:"Tasks",link:"/tasks",roles:["superadmin","company","recruiter"]},{label:"Calendar",link:"/calendar",roles:["superadmin","company","recruiter"]},{label:"Analytics",link:"/analytics",roles:["superadmin","company","recruiter"]},{label:"Settings",link:"/settings",roles:["superadmin","company","recruiter","applicant"]},{label:"Profile",link:`/details/${p?.user?.id||1}/${p?.user?.name||""}`,roles:["superadmin","company","recruiter"]},{label:"Add Projects",link:"/projects",roles:["superadmin","company"]},{label:"Add Recruiters",link:"/recruiters",roles:["superadmin","company"]}].filter(e=>e.roles.includes(j)),[j,p?.user?.id,p?.user?.name])(),O=`/details/${p?.user?.id||1}/${p?.user?.name||""}`,D=(0,r.useCallback)(e=>{let t="/"===e?"/"===v:v.startsWith(e);return`relative flex items-center h-full px-2 font-medium transition ${t?"text-purple-600 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-full after:h-[3px] after:bg-purple-600":"text-gray-700 hover:text-purple-600"}`},[v]),L=["superadmin","company","recruiter"].includes(j);return(0,n.jsxs)("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full px-4 sm:px-6 z-50",children:[(0,n.jsxs)("div",{className:"flex h-20 sm:h-20 items-center justify-between gap-4",children:[(0,n.jsx)(b.default,{href:"/",className:"flex items-center",prefetch:!0,children:(0,n.jsx)(g.default,{src:"/logo.webp",alt:"logo",width:150,height:10,priority:!0,className:"object-cover"})}),(0,n.jsxs)("div",{className:"hidden sm:flex items-center gap-4 h-full flex-1 justify-end",children:[(0,n.jsx)(b.default,{href:"/",className:D("/"),prefetch:!0,children:"Home"}),(0,n.jsx)(b.default,{href:"/about",className:D("/about"),prefetch:!0,children:"About Us"}),("recruiter"!==j&&"company"!==j&&"superadmin"!==j||!k)&&(0,n.jsx)(b.default,{href:"/companies",className:D("/companies"),prefetch:!0,children:"Companies"}),("recruiter"!==j&&"company"!==j&&"superadmin"!==j||!k)&&(0,n.jsx)(b.default,{href:"/jobs",className:D("/jobs"),prefetch:!0,children:"Jobs"}),k?(0,n.jsxs)(n.Fragment,{children:[L&&"/applications"!==v&&(0,n.jsx)("div",{children:t?(0,n.jsx)(eC,{title:"POST NEW JOB"}):(0,n.jsx)("button",{onClick:()=>{k&&y.push("/applications")},className:"bg-gray-900 border-1.5 border-gray-900 text-white px-3 sm:px-4 py-1.5 rounded text-sm sm:text-base whitespace-nowrap ml-4",children:"POST NEW JOB"})}),(0,n.jsx)(eT,{unreadCount:M.unreadCount||0,isLoading:C,error:S,onBellClick:F}),P&&(0,n.jsx)(eR,{notifications:M.items||[],unreadCount:M.unreadCount||0,onCloseNotification:u,onMarkAsRead:c,onMarkAllAsRead:d,onClearAll:m,onCloseDropdown:()=>l(!1),onNotificationClick:T,isLoading:C}),(0,n.jsxs)(ek,{as:"div",className:"relative no-focus-outline z-[99999]",children:[(0,n.jsxs)(ek.Button,{className:"flex items-center gap-1 cursor-poPoppins",children:[(0,n.jsx)("div",{className:"sm:hidden w-6 h-6 rounded-full bg-indigo-900 text-white flex items-center justify-center font-semibold",children:(p?.user?.name||"U").charAt(0).toUpperCase()}),(0,n.jsxs)("div",{className:"hidden sm:flex flex-col capitalize",children:[(0,n.jsxs)("p",{className:"font-semibold flex items-center",children:[p?.user?.name||"User",(0,n.jsx)(I.ChevronDownIcon,{className:"w-4 h-4 text-gray-400 hidden sm:block"})]}),(0,n.jsx)("p",{className:"text-gray-500 text-xs text-right",children:j||"role"})]})]}),(0,n.jsx)(o.Transition,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsxs)(ek.Items,{className:"absolute no-focus-outline top-full right-0 mt-2 w-36 bg-white shadow-lg rounded-md z-[99999999] focus:outline-none",children:[["superadmin","company","recruiter"].includes(j)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ek.Item,{children:({active:e})=>(0,n.jsx)("button",{onClick:()=>y.push("/dashboard"),className:`${e?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-gray-700`,children:"Dashboard"})}),(0,n.jsx)(ek.Item,{children:({active:e})=>(0,n.jsx)("button",{onClick:()=>y.push(O),className:`${e?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-gray-700`,children:"Profile"})})]}):(0,n.jsx)(ek.Item,{children:({active:e})=>(0,n.jsx)("button",{onClick:()=>y.push(O),className:`${e?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-gray-700`,children:"Profile"})}),(0,n.jsx)(ek.Item,{children:({active:e})=>(0,n.jsx)("button",{onClick:s,className:`${e?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-gray-700`,children:"Logout"})})]})})]})]}):(0,n.jsx)(b.default,{href:"/login",className:"ml-4 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-purple-600",prefetch:!0,children:"Login"})]}),(0,n.jsx)("button",{className:"sm:hidden text-gray-700 focus:outline-none",onClick:()=>x(!f),children:f?(0,n.jsx)(N.XMarkIcon,{className:"h-6 w-6"}):(0,n.jsx)(w,{className:"h-6 w-6"})})]}),f&&(0,n.jsxs)("div",{className:"sm:hidden flex flex-col items-start px-6 pb-4 gap-3 bg-white shadow-md",children:[(0,n.jsx)(b.default,{href:"/",className:D("/"),onClick:()=>x(!1),prefetch:!0,children:"Home"}),(0,n.jsx)(b.default,{href:"/about",className:D("/about"),onClick:()=>x(!1),prefetch:!0,children:"About Us"}),("recruiter"!==j&&"company"!==j&&"superadmin"!==j||!k)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.default,{href:"/companies",className:D("/companies"),onClick:()=>x(!1),prefetch:!0,children:"Companies"}),(0,n.jsx)(b.default,{href:"/jobs",className:D("/jobs"),onClick:()=>x(!1),prefetch:!0,children:"Jobs"})]}),k&&(0,n.jsx)(b.default,{href:"/services",className:D("/services"),onClick:()=>x(!1),prefetch:!0,children:"Premium Services"}),k&&(0,n.jsxs)(n.Fragment,{children:[A.map(e=>(0,n.jsx)(b.default,{href:e.link,className:D(e.link),onClick:()=>x(!1),prefetch:!0,children:e.label},e.link)),L&&(0,n.jsx)("button",{onClick:()=>{k&&y.push("/applications")},className:"w-full px-4 py-2 rounded-lg text-center bg-gray-900 border-1.5 border-gray-900 text-white hover:bg-gray-700 mt-2",children:"POST NEW JOB"})]}),k&&"applicant"===j&&(0,n.jsx)(b.default,{href:O,className:D(O),onClick:()=>x(!1),prefetch:!0,children:"Profile"}),k?(0,n.jsx)("button",{onClick:s,className:"w-full px-4 py-2 rounded-lg text-center bg-gray-200 text-gray-700 hover:bg-gray-300 mt-2",children:"Logout"}):(0,n.jsx)(b.default,{href:"/login",className:"w-full px-4 py-2 rounded-lg text-center bg-indigo-600 text-white hover:bg-purple-600 mt-2",onClick:()=>x(!1),prefetch:!0,children:"Login"})]})]})};function eO({children:e}){let t,s=(0,h.usePathname)(),a=(0,h.useRouter)(),[o,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!1),{rootContext:m,logOut:f,markNotificationAsRead:x,markAllNotificationsAsRead:g,removeNotification:b,clearAllNotifications:v,toggleNotificationDropdown:w,setNotificationsLoading:N,setNotificationsError:I,updateNotifications:k,refreshUserData:C}=(0,r.useContext)(i.default);return(0,r.useEffect)(()=>{if(!m.loader){let e=m?.user?.role;if(m?.authenticated)["/","/about","/services","/details",...{applicant:["/jobs","/companies",`/details/${m?.user?.id||1}/${m?.user?.name||""}`,"/projects"],recruiter:["/dashboard","/applications","/candidates","/tasks","/calendar","/analytics","/settings","/projects"],company:["/dashboard","/applications","/candidates","/tasks","/calendar","/analytics","/settings","/projects","/recruiters"],superadmin:["/dashboard","/applications","/candidates","/tasks","/calendar","/analytics","/settings","/projects","/recruiters","/admin"]}[e]||[]].some(e=>s.startsWith(e))||a.push({applicant:"/",recruiter:"/dashboard",company:"/dashboard",superadmin:"/dashboard"}[e]||"/");else["/","/about","/companies","/jobs","/login","/signup"].some(e=>s===e||s.startsWith(e))||a.push("/login")}},[m,s,a]),(0,r.useEffect)(()=>{c(!0);let e=setTimeout(()=>{c(!1)},3e3);return()=>clearTimeout(e)},[s]),(0,n.jsxs)(n.Fragment,{children:["/login"!==s&&"/signup"!==s&&(0,n.jsx)(eA,{rootContext:m,showLoader:o,logOut:f,markNotificationAsRead:x,markAllNotificationsAsRead:g,removeNotification:b,clearAllNotifications:v,toggleNotificationDropdown:w,setNotificationsLoading:N,setNotificationsError:I,updateNotifications:k,refreshUserData:C}),(0,n.jsxs)("div",{className:`${"/login"===s||"/signup"===s?"pt-0":"pt-26 sm:pt-20"} flex`,children:[m.loader&&(0,n.jsx)(l.default,{}),(t=m?.user?.role,!!m?.authenticated&&!!["recruiter","company","superadmin"].includes(t)&&!["/login","/signup","/","/about","/services","/jobs","/companies"].includes(s)&&(0,n.jsx)(j,{isMobileOpen:d,toggleSidebar:u,userRole:m?.user?.role,authenticated:m.authenticated})),(0,n.jsx)("main",{className:"w-full",children:e})]}),"/login"!==s&&"/signup"!==s&&(0,n.jsx)(y,{}),m?.toast&&(0,n.jsx)(p,{})]})}function eD({children:e}){return(0,n.jsx)("html",{lang:"en",className:x.variable,children:(0,n.jsx)("body",{className:"w-full mx-auto",children:(0,n.jsx)(i.RootContextProvider,{children:(0,n.jsx)(eO,{children:e})})})})}e.s(["default",()=>eD],95321)}]);